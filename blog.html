<!DOCTYPE html>
<html>
  <head>
    <title>Brightstar Blog</title>
    <style>
      .blog-post {
        margin-bottom: 40px;
      }
      .blog-post img {
        width: 100%;
        max-width: 600px;
        height: auto;
      }
    </style>
  </head>
  <body>
    <h1>Our Blog</h1>
    <div id="blog-list"></div>

    <script>
      fetch("http://localhost:8080/brightstar-cms/wp-json/wp/v2/posts?_embed")
        .then((res) => res.json())
        .then((posts) => {
          const blogList = document.getElementById("blog-list");
          posts.forEach((post) => {
            const image =
              post._embedded?.["wp:featuredmedia"]?.[0]?.source_url || "";
            const postEl = document.createElement("div");
            postEl.className = "blog-post";
            postEl.innerHTML = `
            <a href="blog-detail.html?slug=${post.slug}">
              ${
                image
                  ? `<img src="${image}" alt="${post.title.rendered}"/>`
                  : ""
              }
              <h2>${post.title.rendered}</h2>
              <div>${post.excerpt.rendered}</div>
            </a>
          `;
            blogList.appendChild(postEl);
          });
        });
    </script>
  </body>
</html>
